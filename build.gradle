plugins{
	//defines scmVersion from git tags
    id 'pl.allegro.tech.build.axion-release' version '1.9.3'
    id 'groovy'
    id 'maven-publish'
    id 'application'
    id 'idea'
}

mainClassName = 'test.rd.Test'
scmVersion {
    tag {
    	//defines release tags like "v1.2.3"
        prefix = 'v'
        versionSeparator = ''
    }
    ignoreUncommittedChanges = false
}

allprojects {
    project.version = scmVersion.version

    if (JavaVersion.current().isJava8Compatible()) {
        tasks.withType(Javadoc) {
            options.addStringOption('Xdoclint:none', '-quiet')
        }
    }

    java{
        withJavadocJar()
        withSourcesJar()
    }
}

dependencies {
    // Use the latest Groovy version for building this library
    implementation "org.rundeck.api:rd-api-client:1.3.9"

    // Use the awesome Spock testing and specification framework
    testImplementation 'org.spockframework:spock-core:1.0-groovy-2.4'
}

// In this section you declare where to find the dependencies of your project
repositories {
    mavenLocal()
    mavenCentral()
}
